---
// Barra de navegación accesible y mínima (VERSIÓN COMPATIBLE)
// - Suma aria-current al link activo usando Astro.url.pathname
// - Mantiene clases y estructura actual
const links = [
  { href: '/', label: 'Inicio' },
  { href: '/proyectos', label: 'Proyectos' },
  { href: '/servicios', label: 'Servicios' },
  { href: '/sobre-mi', label: 'Sobre mí' },
  { href: '/contacto', label: 'Contacto' }
];

const current = Astro.url.pathname;
---
<nav class="sticky top-0 z-40 w-full bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60 border-b">
  <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between">
    <a href="/" class="font-semibold">Marin.dev</a>
    <ul class="flex gap-4 text-sm">
      {links.map((l) => {
        const isActive = current === l.href || (l.href !== '/' && current.startsWith(l.href));
        return (
          <li>
            <a
              href={l.href}
              class={`hover:text-brand ${isActive ? 'text-brand font-medium' : ''}`}
              aria-current={isActive ? 'page' : undefined}
            >
              {l.label}
            </a>
          </li>
        );
      })}
    </ul>
        <a href="/contacto" class="hidden sm:inline-block text-sm font-medium hover:text-brand">Presupuesto</a>

  </div>
</nav>


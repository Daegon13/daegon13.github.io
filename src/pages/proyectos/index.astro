---
// PÃ¡gina de listado de proyectos
import BaseLayout from '../../layouts/BaseLayout.astro';
import ProjectCard from '../../components/ProjectCard.astro';
import { getCollection } from 'astro:content';

// Obtener todos los proyectos ordenados por fecha
let proyectos = await getCollection('proyectos');
proyectos = proyectos.sort((a, b) => (a.data.fecha < b.data.fecha ? 1 : -1));
---
<BaseLayout title="Proyectos" description="Casos reales con soluciones concretas.">
  <section class="py-12">
    <h1 class="text-2xl font-bold mb-6">Proyectos</h1>
    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {proyectos.map((p) => (
        <ProjectCard
          title={p.data.title}
          resumen={p.data.resumen}
          stack={p.data.stack}
          slug={p.slug}
          cover={p.data.cover}
          resultado={p.data.resultado}
        />
      ))}
    </div>
  </section>
</BaseLayout>
